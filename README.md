# Симулятор динамики разделения космического аппарата

Простой симулятор для моделирования динамики отделения космического аппарата (КА) от ступени ракеты-носителя (РН) на орбите под действием пружинного толкателя.

## 1. Описание модели

Проект моделирует движение двух тел (КА и РН) в центральном гравитационном поле Земли.

*   **Силы:** Учитываются гравитационная сила Земли и сила упругости пружинного толкателя (по закону Гука).
*   **Система координат:** Все расчеты производятся в инерциальной системе координат ECI J2000.
*   **Допущения:**
    *   Земля моделируется как точечная масса (центральное гравитационное поле).
    *   КА и ступень РН также считаются точечными массами (вращение не учитывается).
    *   Атмосферное сопротивление, давление солнечного света и другие возмущения не учитываются.

## 2. Структура проекта

*   `src/data_models.py`: Определяет структуры данных (dataclasses) для хранения входных и выходных параметров.
*   `src/orbital_mechanics.py`: Содержит чистые функции для астродинамических расчетов (например, преобразование кеплеровых элементов в декартовы).
*   `src/simulation.py`: Содержит основную логику для моделирования движения системы (правая часть ОДУ и запуск решателя).
*   `src/main.py`: Главный исполняемый файл, который задает начальные условия, запускает симуляцию и обрабатывает результаты.

## 3. Установка и зависимости

Для работы проекта необходим Python 3.8+. Все зависимости указаны в файле `pyproject.toml`.

Для установки основных зависимостей проекта:
```bash
pip install .
```

Для тестирования установить также `pytest`:
```bash
pip install ".[dev]"
```

## 4. Как запустить симуляцию

Все параметры симуляции (массы тел, характеристики пружины, параметры орбиты) задаются в функции `main()` в файле `src/main.py`.

Для запуска симуляции с параметрами по умолчанию выполните из корневой директории проекта:
```bash
python src/main.py
```
В результате выполнения в директории `results/` будут созданы файлы:
*   `simulation_results.csv` — CSV-файл с результатами симуляции по шагам.
*   `simulation_plots_position.png` — графики координат положения КА и РН по осям X, Y, Z.
*   `simulation_plots_velocity.png` — графики скоростей КА и РН по осям X, Y, Z.
*   `simulation_plots_relative.png` — графики относительных положения и скорости КА и РН по осям X, Y, Z.


## 5. Запуск тестов

Для проверки корректности работы всех модулей выполните из корневой директории проекта:
```bash
python -m pytest
```
